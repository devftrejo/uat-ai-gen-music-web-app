(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();let i=null,d=!1;const h={"Whisper of the Tides":"/Whisper of the Tides.mp3","Whispers of the Moonlight":"/Whispers of the Moonlight.mp3","Whispering Pines":"/Whispering Pines.mp3","Tranquil Space":"/Tranquil Space ext v1.2.mp3","Whispers of Dreams":"/Whispers of Dreams ext v1.1.mp3","Whispers of Spring":"/Whispers of Spring ext v1.1.mp3","Above the Tree Line":"/Summit Reverie - Above the Tree Line - Sonauto.mp3","Trace of Silence":"/Summit Reverie - Trace of Silence - Sonauto.mp3","Dawn's Embrace":"/Summit Reverie - Dawn's Embrace - Sonauto.mp3","Celestial Drift":"/Celestial Drift.mp3"},c=document.querySelector(".play-btn"),L=document.querySelector(".control-btn:first-child"),v=document.querySelector(".control-btn:last-child"),f=document.querySelector(".progress"),p=document.querySelectorAll(".time-info span");let S="Whisper of the Tides",a=0;const u=Object.keys(h);function T(e){const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n.toString().padStart(2,"0")}`}function y(e,t){i&&(i.pause(),i.currentTime=0),i=new Audio(e),S=t,i.addEventListener("loadedmetadata",()=>{p[1].textContent=T(i.duration)}),i.addEventListener("timeupdate",()=>{const n=i.currentTime/i.duration*100;f.style.width=`${n}%`,p[0].textContent=T(i.currentTime)}),i.addEventListener("ended",()=>{d=!1,c.textContent="▶",f.style.width="0%",p[0].textContent="0:00",m(),setTimeout(()=>{v.click()},500)}),i.addEventListener("error",n=>{console.error("Audio loading error:",n),alert("Error loading audio file. Please check if the file exists.")})}c.addEventListener("click",()=>{i||(y("/Whisper of the Tides.mp3","Whisper of the Tides"),document.querySelector(".track-info h3").textContent="Whisper of the Tides",document.querySelector(".track-info p").textContent="A serene composition featuring soft ambient tones"),i.paused?(i.play(),d=!0,c.textContent="⏸"):(i.pause(),d=!1,c.textContent="▶"),setTimeout(()=>{typeof m=="function"&&m()},100)});L.addEventListener("click",()=>{a=(a-1+u.length)%u.length;const e=u[a],t=h[e];t&&(y(t,e),b(e),setTimeout(()=>{c.click(),m()},100))});v.addEventListener("click",()=>{a=(a+1)%u.length;const e=u[a],t=h[e];t&&(y(t,e),b(e),setTimeout(()=>{c.click(),m()},100))});function b(e){S=e,document.querySelector(".track-info h3").textContent=e,document.querySelectorAll(".song-card").forEach(n=>{if(n.querySelector(".song-title").textContent===e){const o=n.querySelector(".song-description").textContent,l=n.querySelector(".song-thumbnail").firstChild.textContent.trim();document.querySelector(".track-info p").textContent=o,document.querySelector(".album-art").textContent=l}}),d=!1,c.textContent="▶",f.style.width="0%",p[0].textContent="0:00",m()}document.querySelectorAll(".song-card").forEach((e,t)=>{let n=0;e.addEventListener("touchstart",o=>{n=Date.now(),e.style.transform="scale(0.98)"}),e.addEventListener("touchend",o=>{e.style.transform="",Date.now()-n<200&&s(e)}),e.addEventListener("click",o=>{o.type==="click"&&n>0&&Date.now()-n<500||s(e)});function s(o){const r=o.querySelector(".song-title").textContent,l=o.querySelector(".song-description").textContent;a=u.indexOf(r);const g=h[r];if(g){y(g,r),document.querySelector(".track-info h3").textContent=r,document.querySelector(".track-info p").textContent=l;const q=o.querySelector(".song-thumbnail").textContent.trim();document.querySelector(".album-art").textContent=q,d=!1,c.textContent="▶",f.style.width="0%",p[0].textContent="0:00",setTimeout(()=>{c.click()},100)}else console.warn(`No audio file found for: ${r}`),alert(`Audio file not found for "${r}". Please check the file mapping.`)}});const k={threshold:.1,rootMargin:"0px 0px -50px 0px"},w=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)")})},k);document.querySelectorAll(".song-card").forEach((e,t)=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition=`all 0.6s ease ${t*.1}s`,w.observe(e)});let x=!1;function A(){const e=window.pageYOffset,t=document.querySelector(".hero"),n=window.innerWidth<=768;if(t){const s=n?.2:.5;t.style.transform=`translateY(${e*s}px)`}x=!1}window.addEventListener("scroll",()=>{x||(requestAnimationFrame(A),x=!0)});f.parentElement.addEventListener("click",e=>{if(i){const t=f.parentElement.getBoundingClientRect(),n=(e.clientX-t.left)/t.width;i.currentTime=n*i.duration}});document.addEventListener("keydown",e=>{e.code==="Space"&&(e.preventDefault(),c.click())});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".song-card").forEach(t=>{const n=t.querySelector(".play-icon"),s=t.dataset.song;n&&s&&n.addEventListener("click",o=>{o.stopPropagation();const r=h[s];if(r){const l=document.querySelector(".track-info"),g=document.querySelector(".album-art");t.querySelector(".song-title");const C=t.querySelector(".song-description");l.querySelector("h3").textContent=s,l.querySelector("p").textContent=C.textContent;const E=t.querySelector(".song-thumbnail").firstChild.textContent.trim();g.textContent=E,y(r,s),a=u.indexOf(s),S=s,setTimeout(()=>{i&&(i.play(),d=!0,c.textContent="⏸")},100)}})})});function m(){document.querySelectorAll(".song-card").forEach(t=>{const n=t.querySelector(".play-icon"),s=t.dataset.song;n&&s&&(s===S&&d?n.textContent="⏸":n.textContent="▶")})}
